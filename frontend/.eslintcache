[{"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\index.js":"1","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\reportWebVitals.js":"2","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\App.js":"3","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Landing.js":"4","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Reducer\\UserReducer.js":"5","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Signup.js":"6","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Signin.js":"7","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Components\\Navbar.js":"8","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Inbox.js":"9","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Profile.js":"10","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Home.js":"11","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Friends.js":"12","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\PostDestination.js":"13","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\UserDetails.js":"14","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Chat.js":"15","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Components\\Card.js":"16"},{"size":517,"mtime":1610281396944,"results":"17","hashOfConfig":"18"},{"size":375,"mtime":1610281396945,"results":"19","hashOfConfig":"18"},{"size":2117,"mtime":1610282968965,"results":"20","hashOfConfig":"18"},{"size":445,"mtime":1610281396932,"results":"21","hashOfConfig":"18"},{"size":239,"mtime":1610281396928,"results":"22","hashOfConfig":"18"},{"size":2844,"mtime":1610281396939,"results":"23","hashOfConfig":"18"},{"size":2750,"mtime":1610281396937,"results":"24","hashOfConfig":"18"},{"size":1682,"mtime":1610282968967,"results":"25","hashOfConfig":"18"},{"size":1831,"mtime":1610282968969,"results":"26","hashOfConfig":"18"},{"size":1656,"mtime":1610282968971,"results":"27","hashOfConfig":"18"},{"size":1763,"mtime":1610282968969,"results":"28","hashOfConfig":"18"},{"size":1979,"mtime":1610282968968,"results":"29","hashOfConfig":"18"},{"size":2154,"mtime":1610282968970,"results":"30","hashOfConfig":"18"},{"size":1756,"mtime":1610282968972,"results":"31","hashOfConfig":"18"},{"size":1706,"mtime":1610282968968,"results":"32","hashOfConfig":"18"},{"size":3437,"mtime":1610282968966,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"r38dzz",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"36"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\index.js",[],["71","72"],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\reportWebVitals.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\App.js",["73"],"import \"./App.css\";\r\nimport { useContext, useReducer, createContext, useEffect } from \"react\";\r\nimport Navbar from \"./Components/Navbar\";\r\nimport Landing from \"./Screens/Landing\";\r\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Signup from \"./Screens/Signup\";\r\nimport Signin from \"./Screens/Signin\";\r\nimport Home from \"./Screens/Home\";\r\nimport Inbox from \"./Screens/Inbox\";\r\nimport Friends from \"./Screens/Friends\";\r\nimport { reducer, initialState } from \"./Reducer/UserReducer\";\r\nimport PostDestination from \"./Screens/PostDestination\";\r\nimport Profile from \"./Screens/Profile\";\r\nimport UserDetails from \"./Screens/UserDetails\";\r\nimport Chat from \"./Screens/Chat\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nfunction Routes() {\r\n  const history = useHistory();\r\n  const { dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (user) {\r\n      dispatch({ type: \"USER\", payload: user });\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Landing}></Route>\r\n      <Route exact path=\"/signup\" component={Signup}></Route>\r\n      <Route exact path=\"/signin\" component={Signin}></Route>\r\n      <Route exact path=\"/home\" component={Home}></Route>\r\n      <Route exact path=\"/postdestination\" component={PostDestination}></Route>\r\n      <Route exact path=\"/viewprofile\" component={Profile}></Route>\r\n      <Route exact path=\"/inbox\" component={Inbox}></Route>\r\n      <Route exact path=\"/friendlist\" component={Friends}></Route>\r\n      <Route exact path=\"/userdetails/:id\" component={UserDetails}></Route>\r\n      <Route path=\"/chat\" component={Chat}></Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <UserContext.Provider value={{ state, dispatch }}>\r\n        <BrowserRouter>\r\n          <Navbar />\r\n          <Routes />\r\n        </BrowserRouter>\r\n      </UserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Landing.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Reducer\\UserReducer.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Signup.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Signin.js",["74"],"import React, { useState, useContext } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { UserContext } from '../App'\r\n\r\nfunction Signin() {\r\n\r\n    const history = useHistory()\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [type, setType] = useState('password')\r\n\r\n    const togglePassword = () => {\r\n        if (type === \"password\") {\r\n            setType('text')\r\n        } else {\r\n            setType('password')\r\n        }\r\n    }\r\n\r\n    const clicked = () => {\r\n        fetch('http://localhost:5000/api/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ email, password })\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                if (res.error) {\r\n                    console.log(res.error)\r\n                }\r\n                else {\r\n                    localStorage.setItem('jwt', res.token)\r\n                    localStorage.setItem('user', JSON.stringify(res.user))\r\n                    console.log(res)\r\n                    dispatch({ type: 'USER', payload: res.user })\r\n                    history.push('/home')\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    const style = {\r\n        textAlign: 'center',\r\n        maxWidth: '400px',\r\n        marginLeft: '20px',\r\n        borderRadius: '10px',\r\n        padding: '30px',\r\n        backgroundColor: '#444',\r\n        color: 'white'\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'flex', margin: '10px auto', justifyContent: 'center' }}>\r\n            <div className='card' style={style}>\r\n                <h2>GlobeTrotter</h2>\r\n                <h4>Sign In</h4>\r\n                <input style={{ color: \"white\" }} type=\"text\" placeholder='Enter your Email' value={email} onChange={(e) => setEmail(e.target.value)}></input>\r\n                <input style={{ color: \"white\" }} type={type} id=\"passwrd\" placeholder='Enter your Password' value={password} onChange={(e) => setPassword(e.target.value)}></input><br /><br />\r\n                <div style={{ color: 'white' }} onClick={() => togglePassword()}>\r\n                    Click here to show/hide Password\r\n                </div>\r\n                <br></br><br></br>\r\n                <button onClick={() => clicked()} className=\"waves-effect waves-light btn\">Sign In</button><br /><br />\r\n                Don't have an account? <br></br>\r\n                <Link to='/signup'>Sign Up here!</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Components\\Navbar.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Inbox.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Profile.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Home.js",["75","76"],"import { React, useEffect, useContext, useState } from \"react\";\r\nimport { UserContext } from \"../App\";\r\nimport Card from \"../Components/Card\";\r\n\r\nfunction Home() {\r\n  const [dests, setDests] = useState([]);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  // const [friendList, setFriendList] = useState([]);\r\n\r\n  function getFriendlist() {\r\n    fetch(\"http://localhost:5000/api/users/friend\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"x-auth-token\": localStorage.getItem(\"jwt\"),\r\n        \"Content-Type\": \"application/json\",\r\n        uid: JSON.parse(localStorage.getItem(\"user\"))._id.toString(),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        // setFriendList(res);\r\n        localStorage.setItem(\"friends\", res)\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  useEffect(() => {\r\n    getFriendlist()\r\n  }, []);\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/posts\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"x-auth-token\": localStorage.getItem(\"jwt\"),\r\n        id: JSON.parse(localStorage.getItem(\"user\"))._id.toString(),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setDests(res);\r\n      })\r\n      .catch((err) => alert(\"somettext\"));\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {\r\n        dests.map((d) => {\r\n          return (\r\n            <Card\r\n              key={d._id}\r\n              user={d.user}\r\n              fid={d.user._id}\r\n              destination={d.destination}\r\n              description={d.description}\r\n              name={d.user.name}\r\n              url={d.image_url}\r\n            />\r\n          );\r\n        })\r\n      }\r\n    </div >\r\n\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Friends.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\PostDestination.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\UserDetails.js",[],"E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Screens\\Chat.js",["77","78"],"import React, { useState, useEffect } from 'react'\r\nimport queryString from 'query-string'\r\nimport io from 'socket.io-client'\r\n\r\nlet socket\r\n\r\nfunction Chat({ location }) {\r\n\r\n    const [name, setName] = useState('')\r\n    const [room, setRoom] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [messages, setMessages] = useState([])\r\n    const ENDPOINT = 'http://localhost:5000'\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search)\r\n        socket = io(ENDPOINT)\r\n        setName(name)\r\n        setRoom(room)\r\n\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if (error) {\r\n                alert(error);\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            socket.disconnect()\r\n            socket.off()\r\n        }\r\n    }, [ENDPOINT, location.search])\r\n\r\n    useEffect(() => {\r\n        socket.on('message', (message) => {\r\n            setMessages([...messages, message])\r\n        })\r\n    }, [messages])\r\n\r\n    const sendMessage = (e) => {\r\n\r\n        if (message) {\r\n            socket.emit('sendMessage', message, () => {\r\n                setMessage('')\r\n            })\r\n        }\r\n    }\r\n\r\n    console.log(message, messages)\r\n    return (\r\n        <div>\r\n            <div className=\"messagesContainer\">\r\n                {\r\n                    messages.map((m) => {\r\n                        return <div>{m.user + \" : \" + m.text}</div>\r\n                    })\r\n                }\r\n            </div>\r\n            <input type='text' onChange={(e) => setMessage(e.target.value)} />\r\n            <button type='submit' onClick={(e) => sendMessage(e)}>Send</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","E:\\globetrotter\\globtrotter_v2\\globetrotter\\frontend\\src\\Components\\Card.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":29,"column":6,"nodeType":"85","endLine":29,"endColumn":8,"suggestions":"86"},{"ruleId":"87","severity":1,"message":"88","line":8,"column":13,"nodeType":"89","messageId":"90","endLine":8,"endColumn":18},{"ruleId":"87","severity":1,"message":"88","line":7,"column":11,"nodeType":"89","messageId":"90","endLine":7,"endColumn":16},{"ruleId":"87","severity":1,"message":"91","line":7,"column":18,"nodeType":"89","messageId":"90","endLine":7,"endColumn":26},{"ruleId":"87","severity":1,"message":"92","line":9,"column":12,"nodeType":"89","messageId":"90","endLine":9,"endColumn":16},{"ruleId":"87","severity":1,"message":"93","line":10,"column":12,"nodeType":"89","messageId":"90","endLine":10,"endColumn":16},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["96"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","'name' is assigned a value but never used.","'room' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [dispatch, history]",{"range":"99","text":"100"},[1057,1059],"[dispatch, history]"]